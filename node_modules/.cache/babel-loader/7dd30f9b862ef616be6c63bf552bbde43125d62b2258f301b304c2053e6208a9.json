{"ast":null,"code":"/*! @azure/msal-browser v4.24.1 2025-09-30 */\n'use strict';\n\nimport _objectSpread from \"C:/_Projects/DGL_ToDo/react_todo_dashboard2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { createClientConfigurationError, ClientConfigurationErrorCodes, invokeAsync, PerformanceEvents, RequestParameterBuilder, OAuthResponseType, Constants, AuthorizeProtocol, ThrottlingUtils, ResponseHandler, TimeUtils, ProtocolMode, AuthenticationScheme, PopTokenGenerator, ProtocolUtils } from '@azure/msal-common/browser';\nimport { BrowserConstants } from '../utils/BrowserConstants.mjs';\nimport { version } from '../packageMetadata.mjs';\nimport { CryptoOps } from '../crypto/CryptoOps.mjs';\nimport { createBrowserAuthError } from '../error/BrowserAuthError.mjs';\nimport { InteractionHandler } from '../interaction_handler/InteractionHandler.mjs';\nimport { PlatformAuthInteractionClient } from '../interaction_client/PlatformAuthInteractionClient.mjs';\nimport { decryptEarResponse } from '../crypto/BrowserCrypto.mjs';\nimport { earJwkEmpty, earJweEmpty, nativeConnectionNotEstablished } from '../error/BrowserAuthErrorCodes.mjs';\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\n/**\r\n * Returns map of parameters that are applicable to all calls to /authorize whether using PKCE or EAR\r\n * @param config\r\n * @param authority\r\n * @param request\r\n * @param logger\r\n * @param performanceClient\r\n * @returns\r\n */\nasync function getStandardParameters(config, authority, request, logger, performanceClient) {\n  const parameters = AuthorizeProtocol.getStandardAuthorizeRequestParameters(_objectSpread(_objectSpread({}, config.auth), {}, {\n    authority: authority\n  }), request, logger, performanceClient);\n  RequestParameterBuilder.addLibraryInfo(parameters, {\n    sku: BrowserConstants.MSAL_SKU,\n    version: version,\n    os: \"\",\n    cpu: \"\"\n  });\n  if (config.auth.protocolMode !== ProtocolMode.OIDC) {\n    RequestParameterBuilder.addApplicationTelemetry(parameters, config.telemetry.application);\n  }\n  if (request.platformBroker) {\n    // signal ests that this is a WAM call\n    RequestParameterBuilder.addNativeBroker(parameters);\n    // instrument JS-platform bridge specific fields\n    performanceClient.addFields({\n      isPlatformAuthorizeRequest: true\n    }, request.correlationId);\n    // pass the req_cnf for POP\n    if (request.authenticationScheme === AuthenticationScheme.POP) {\n      const cryptoOps = new CryptoOps(logger, performanceClient);\n      const popTokenGenerator = new PopTokenGenerator(cryptoOps);\n      // req_cnf is always sent as a string for SPAs\n      let reqCnfData;\n      if (!request.popKid) {\n        const generatedReqCnfData = await invokeAsync(popTokenGenerator.generateCnf.bind(popTokenGenerator), PerformanceEvents.PopTokenGenerateCnf, logger, performanceClient, request.correlationId)(request, logger);\n        reqCnfData = generatedReqCnfData.reqCnfString;\n      } else {\n        reqCnfData = cryptoOps.encodeKid(request.popKid);\n      }\n      RequestParameterBuilder.addPopToken(parameters, reqCnfData);\n    }\n  }\n  RequestParameterBuilder.instrumentBrokerParams(parameters, request.correlationId, performanceClient);\n  return parameters;\n}\n/**\r\n * Gets the full /authorize URL with request parameters when using Auth Code + PKCE\r\n * @param config\r\n * @param authority\r\n * @param request\r\n * @param logger\r\n * @param performanceClient\r\n * @returns\r\n */\nasync function getAuthCodeRequestUrl(config, authority, request, logger, performanceClient) {\n  if (!request.codeChallenge) {\n    throw createClientConfigurationError(ClientConfigurationErrorCodes.pkceParamsMissing);\n  }\n  const parameters = await invokeAsync(getStandardParameters, PerformanceEvents.GetStandardParams, logger, performanceClient, request.correlationId)(config, authority, request, logger, performanceClient);\n  RequestParameterBuilder.addResponseType(parameters, OAuthResponseType.CODE);\n  RequestParameterBuilder.addCodeChallengeParams(parameters, request.codeChallenge, Constants.S256_CODE_CHALLENGE_METHOD);\n  RequestParameterBuilder.addExtraQueryParameters(parameters, request.extraQueryParameters || {});\n  return AuthorizeProtocol.getAuthorizeUrl(authority, parameters, config.auth.encodeExtraQueryParams, request.extraQueryParameters);\n}\n/**\r\n * Gets the form that will be posted to /authorize with request parameters when using EAR\r\n */\nasync function getEARForm(frame, config, authority, request, logger, performanceClient) {\n  if (!request.earJwk) {\n    throw createBrowserAuthError(earJwkEmpty);\n  }\n  const parameters = await getStandardParameters(config, authority, request, logger, performanceClient);\n  RequestParameterBuilder.addResponseType(parameters, OAuthResponseType.IDTOKEN_TOKEN_REFRESHTOKEN);\n  RequestParameterBuilder.addEARParameters(parameters, request.earJwk);\n  const queryParams = new Map();\n  RequestParameterBuilder.addExtraQueryParameters(queryParams, request.extraQueryParameters || {});\n  const url = AuthorizeProtocol.getAuthorizeUrl(authority, queryParams, config.auth.encodeExtraQueryParams, request.extraQueryParameters);\n  return createForm(frame, url, parameters);\n}\n/**\r\n * Gets the form that will be posted to /authorize with request parameters when using POST method\r\n */\nasync function getCodeForm(frame, config, authority, request, logger, performanceClient) {\n  const parameters = await getStandardParameters(config, authority, request, logger, performanceClient);\n  RequestParameterBuilder.addResponseType(parameters, OAuthResponseType.CODE);\n  RequestParameterBuilder.addCodeChallengeParams(parameters, request.codeChallenge, request.codeChallengeMethod || Constants.S256_CODE_CHALLENGE_METHOD);\n  RequestParameterBuilder.addPostBodyParameters(parameters, request.authorizePostBodyParameters || {});\n  const queryParams = new Map();\n  RequestParameterBuilder.addExtraQueryParameters(queryParams, request.extraQueryParameters || {});\n  const url = AuthorizeProtocol.getAuthorizeUrl(authority, queryParams, config.auth.encodeExtraQueryParams, request.extraQueryParameters);\n  return createForm(frame, url, parameters);\n}\n/**\r\n * Creates form element in the provided document with auth parameters in the post body\r\n * @param frame\r\n * @param authorizeUrl\r\n * @param parameters\r\n * @returns\r\n */\nfunction createForm(frame, authorizeUrl, parameters) {\n  const form = frame.createElement(\"form\");\n  form.method = \"post\";\n  form.action = authorizeUrl;\n  parameters.forEach((value, key) => {\n    const param = frame.createElement(\"input\");\n    param.hidden = true;\n    param.name = key;\n    param.value = value;\n    form.appendChild(param);\n  });\n  frame.body.appendChild(form);\n  return form;\n}\n/**\r\n * Response handler when server returns accountId on the /authorize request\r\n * @param request\r\n * @param accountId\r\n * @param apiId\r\n * @param config\r\n * @param browserStorage\r\n * @param nativeStorage\r\n * @param eventHandler\r\n * @param logger\r\n * @param performanceClient\r\n * @param nativeMessageHandler\r\n * @returns\r\n */\nasync function handleResponsePlatformBroker(request, accountId, apiId, config, browserStorage, nativeStorage, eventHandler, logger, performanceClient, platformAuthProvider) {\n  logger.verbose(\"Account id found, calling WAM for token\");\n  if (!platformAuthProvider) {\n    throw createBrowserAuthError(nativeConnectionNotEstablished);\n  }\n  const browserCrypto = new CryptoOps(logger, performanceClient);\n  const nativeInteractionClient = new PlatformAuthInteractionClient(config, browserStorage, browserCrypto, logger, eventHandler, config.system.navigationClient, apiId, performanceClient, platformAuthProvider, accountId, nativeStorage, request.correlationId);\n  const {\n    userRequestState\n  } = ProtocolUtils.parseRequestState(browserCrypto, request.state);\n  return invokeAsync(nativeInteractionClient.acquireToken.bind(nativeInteractionClient), PerformanceEvents.NativeInteractionClientAcquireToken, logger, performanceClient, request.correlationId)(_objectSpread(_objectSpread({}, request), {}, {\n    state: userRequestState,\n    prompt: undefined // Server should handle the prompt, ideally native broker can do this part silently\n  }));\n}\n/**\r\n * Response handler when server returns code on the /authorize request\r\n * @param request\r\n * @param response\r\n * @param codeVerifier\r\n * @param authClient\r\n * @param browserStorage\r\n * @param logger\r\n * @param performanceClient\r\n * @returns\r\n */\nasync function handleResponseCode(request, response, codeVerifier, apiId, config, authClient, browserStorage, nativeStorage, eventHandler, logger, performanceClient, platformAuthProvider) {\n  // Remove throttle if it exists\n  ThrottlingUtils.removeThrottle(browserStorage, config.auth.clientId, request);\n  if (response.accountId) {\n    return invokeAsync(handleResponsePlatformBroker, PerformanceEvents.HandleResponsePlatformBroker, logger, performanceClient, request.correlationId)(request, response.accountId, apiId, config, browserStorage, nativeStorage, eventHandler, logger, performanceClient, platformAuthProvider);\n  }\n  const authCodeRequest = _objectSpread(_objectSpread({}, request), {}, {\n    code: response.code || \"\",\n    codeVerifier: codeVerifier\n  });\n  // Create popup interaction handler.\n  const interactionHandler = new InteractionHandler(authClient, browserStorage, authCodeRequest, logger, performanceClient);\n  // Handle response from hash string.\n  const result = await invokeAsync(interactionHandler.handleCodeResponse.bind(interactionHandler), PerformanceEvents.HandleCodeResponse, logger, performanceClient, request.correlationId)(response, request);\n  return result;\n}\n/**\r\n * Response handler when server returns ear_jwe on the /authorize request\r\n * @param request\r\n * @param response\r\n * @param apiId\r\n * @param config\r\n * @param authority\r\n * @param browserStorage\r\n * @param nativeStorage\r\n * @param eventHandler\r\n * @param logger\r\n * @param performanceClient\r\n * @param nativeMessageHandler\r\n * @returns\r\n */\nasync function handleResponseEAR(request, response, apiId, config, authority, browserStorage, nativeStorage, eventHandler, logger, performanceClient, platformAuthProvider) {\n  // Remove throttle if it exists\n  ThrottlingUtils.removeThrottle(browserStorage, config.auth.clientId, request);\n  // Validate state & check response for errors\n  AuthorizeProtocol.validateAuthorizationResponse(response, request.state);\n  if (!response.ear_jwe) {\n    throw createBrowserAuthError(earJweEmpty);\n  }\n  if (!request.earJwk) {\n    throw createBrowserAuthError(earJwkEmpty);\n  }\n  const decryptedData = JSON.parse(await invokeAsync(decryptEarResponse, PerformanceEvents.DecryptEarResponse, logger, performanceClient, request.correlationId)(request.earJwk, response.ear_jwe));\n  if (decryptedData.accountId) {\n    return invokeAsync(handleResponsePlatformBroker, PerformanceEvents.HandleResponsePlatformBroker, logger, performanceClient, request.correlationId)(request, decryptedData.accountId, apiId, config, browserStorage, nativeStorage, eventHandler, logger, performanceClient, platformAuthProvider);\n  }\n  const responseHandler = new ResponseHandler(config.auth.clientId, browserStorage, new CryptoOps(logger, performanceClient), logger, null, null, performanceClient);\n  // Validate response. This function throws a server error if an error is returned by the server.\n  responseHandler.validateTokenResponse(decryptedData);\n  // Temporary until response handler is refactored to be more flow agnostic.\n  const additionalData = {\n    code: \"\",\n    state: request.state,\n    nonce: request.nonce,\n    client_info: decryptedData.client_info,\n    cloud_graph_host_name: decryptedData.cloud_graph_host_name,\n    cloud_instance_host_name: decryptedData.cloud_instance_host_name,\n    cloud_instance_name: decryptedData.cloud_instance_name,\n    msgraph_host: decryptedData.msgraph_host\n  };\n  return await invokeAsync(responseHandler.handleServerTokenResponse.bind(responseHandler), PerformanceEvents.HandleServerTokenResponse, logger, performanceClient, request.correlationId)(decryptedData, authority, TimeUtils.nowSeconds(), request, additionalData, undefined, undefined, undefined, undefined);\n}\nexport { getAuthCodeRequestUrl, getCodeForm, getEARForm, handleResponseCode, handleResponseEAR, handleResponsePlatformBroker };","map":{"version":3,"names":["getStandardParameters","config","authority","request","logger","performanceClient","parameters","AuthorizeProtocol","getStandardAuthorizeRequestParameters","_objectSpread","auth","RequestParameterBuilder","addLibraryInfo","sku","BrowserConstants","MSAL_SKU","version","os","cpu","protocolMode","ProtocolMode","OIDC","addApplicationTelemetry","telemetry","application","platformBroker","addNativeBroker","addFields","isPlatformAuthorizeRequest","correlationId","authenticationScheme","AuthenticationScheme","POP","cryptoOps","CryptoOps","popTokenGenerator","PopTokenGenerator","reqCnfData","popKid","generatedReqCnfData","invokeAsync","generateCnf","bind","PerformanceEvents","PopTokenGenerateCnf","reqCnfString","encodeKid","addPopToken","instrumentBrokerParams","getAuthCodeRequestUrl","codeChallenge","createClientConfigurationError","ClientConfigurationErrorCodes","pkceParamsMissing","GetStandardParams","addResponseType","OAuthResponseType","CODE","addCodeChallengeParams","Constants","S256_CODE_CHALLENGE_METHOD","addExtraQueryParameters","extraQueryParameters","getAuthorizeUrl","encodeExtraQueryParams","getEARForm","frame","earJwk","createBrowserAuthError","earJwkEmpty","IDTOKEN_TOKEN_REFRESHTOKEN","addEARParameters","queryParams","Map","url","createForm","getCodeForm","codeChallengeMethod","addPostBodyParameters","authorizePostBodyParameters","authorizeUrl","form","createElement","method","action","forEach","value","key","param","hidden","name","appendChild","body","handleResponsePlatformBroker","accountId","apiId","browserStorage","nativeStorage","eventHandler","platformAuthProvider","verbose","nativeConnectionNotEstablished","browserCrypto","nativeInteractionClient","PlatformAuthInteractionClient","system","navigationClient","userRequestState","ProtocolUtils","parseRequestState","state","acquireToken","NativeInteractionClientAcquireToken","prompt","undefined","handleResponseCode","response","codeVerifier","authClient","ThrottlingUtils","removeThrottle","clientId","HandleResponsePlatformBroker","authCodeRequest","code","interactionHandler","InteractionHandler","result","handleCodeResponse","HandleCodeResponse","handleResponseEAR","validateAuthorizationResponse","ear_jwe","earJweEmpty","decryptedData","JSON","parse","decryptEarResponse","DecryptEarResponse","responseHandler","ResponseHandler","validateTokenResponse","additionalData","nonce","client_info","cloud_graph_host_name","cloud_instance_host_name","cloud_instance_name","msgraph_host","handleServerTokenResponse","HandleServerTokenResponse","TimeUtils","nowSeconds"],"sources":["C:\\_Projects\\DGL_ToDo\\react_todo_dashboard2\\node_modules\\@azure\\msal-browser\\src\\protocol\\Authorize.ts"],"sourcesContent":["/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n\nimport {\n    AuthenticationScheme,\n    Authority,\n    AuthorizeProtocol,\n    ClientConfigurationErrorCodes,\n    CommonAuthorizationUrlRequest,\n    createClientConfigurationError,\n    invokeAsync,\n    IPerformanceClient,\n    Logger,\n    PerformanceEvents,\n    PopTokenGenerator,\n    ProtocolMode,\n    RequestParameterBuilder,\n    OAuthResponseType,\n    Constants,\n    CommonAuthorizationCodeRequest,\n    AuthorizationCodeClient,\n    ProtocolUtils,\n    ThrottlingUtils,\n    AuthorizeResponse,\n    ResponseHandler,\n    TimeUtils,\n    AuthorizationCodePayload,\n    ServerAuthorizationTokenResponse,\n} from \"@azure/msal-common/browser\";\nimport { BrowserConfiguration } from \"../config/Configuration.js\";\nimport { ApiId, BrowserConstants } from \"../utils/BrowserConstants.js\";\nimport { version } from \"../packageMetadata.js\";\nimport { CryptoOps } from \"../crypto/CryptoOps.js\";\nimport {\n    BrowserAuthErrorCodes,\n    createBrowserAuthError,\n} from \"../error/BrowserAuthError.js\";\nimport { AuthenticationResult } from \"../response/AuthenticationResult.js\";\nimport { InteractionHandler } from \"../interaction_handler/InteractionHandler.js\";\nimport { BrowserCacheManager } from \"../cache/BrowserCacheManager.js\";\nimport { PlatformAuthInteractionClient } from \"../interaction_client/PlatformAuthInteractionClient.js\";\nimport { EventHandler } from \"../event/EventHandler.js\";\nimport { decryptEarResponse } from \"../crypto/BrowserCrypto.js\";\nimport { IPlatformAuthHandler } from \"../broker/nativeBroker/IPlatformAuthHandler.js\";\n\n/**\n * Returns map of parameters that are applicable to all calls to /authorize whether using PKCE or EAR\n * @param config\n * @param authority\n * @param request\n * @param logger\n * @param performanceClient\n * @returns\n */\nasync function getStandardParameters(\n    config: BrowserConfiguration,\n    authority: Authority,\n    request: CommonAuthorizationUrlRequest,\n    logger: Logger,\n    performanceClient: IPerformanceClient\n): Promise<Map<string, string>> {\n    const parameters = AuthorizeProtocol.getStandardAuthorizeRequestParameters(\n        { ...config.auth, authority: authority },\n        request,\n        logger,\n        performanceClient\n    );\n    RequestParameterBuilder.addLibraryInfo(parameters, {\n        sku: BrowserConstants.MSAL_SKU,\n        version: version,\n        os: \"\",\n        cpu: \"\",\n    });\n    if (config.auth.protocolMode !== ProtocolMode.OIDC) {\n        RequestParameterBuilder.addApplicationTelemetry(\n            parameters,\n            config.telemetry.application\n        );\n    }\n\n    if (request.platformBroker) {\n        // signal ests that this is a WAM call\n        RequestParameterBuilder.addNativeBroker(parameters);\n\n        // instrument JS-platform bridge specific fields\n        performanceClient.addFields(\n            {\n                isPlatformAuthorizeRequest: true,\n            },\n            request.correlationId\n        );\n\n        // pass the req_cnf for POP\n        if (request.authenticationScheme === AuthenticationScheme.POP) {\n            const cryptoOps = new CryptoOps(logger, performanceClient);\n            const popTokenGenerator = new PopTokenGenerator(cryptoOps);\n\n            // req_cnf is always sent as a string for SPAs\n            let reqCnfData;\n            if (!request.popKid) {\n                const generatedReqCnfData = await invokeAsync(\n                    popTokenGenerator.generateCnf.bind(popTokenGenerator),\n                    PerformanceEvents.PopTokenGenerateCnf,\n                    logger,\n                    performanceClient,\n                    request.correlationId\n                )(request, logger);\n                reqCnfData = generatedReqCnfData.reqCnfString;\n            } else {\n                reqCnfData = cryptoOps.encodeKid(request.popKid);\n            }\n            RequestParameterBuilder.addPopToken(parameters, reqCnfData);\n        }\n    }\n\n    RequestParameterBuilder.instrumentBrokerParams(\n        parameters,\n        request.correlationId,\n        performanceClient\n    );\n\n    return parameters;\n}\n\n/**\n * Gets the full /authorize URL with request parameters when using Auth Code + PKCE\n * @param config\n * @param authority\n * @param request\n * @param logger\n * @param performanceClient\n * @returns\n */\nexport async function getAuthCodeRequestUrl(\n    config: BrowserConfiguration,\n    authority: Authority,\n    request: CommonAuthorizationUrlRequest,\n    logger: Logger,\n    performanceClient: IPerformanceClient\n): Promise<string> {\n    if (!request.codeChallenge) {\n        throw createClientConfigurationError(\n            ClientConfigurationErrorCodes.pkceParamsMissing\n        );\n    }\n\n    const parameters = await invokeAsync(\n        getStandardParameters,\n        PerformanceEvents.GetStandardParams,\n        logger,\n        performanceClient,\n        request.correlationId\n    )(config, authority, request, logger, performanceClient);\n    RequestParameterBuilder.addResponseType(parameters, OAuthResponseType.CODE);\n\n    RequestParameterBuilder.addCodeChallengeParams(\n        parameters,\n        request.codeChallenge,\n        Constants.S256_CODE_CHALLENGE_METHOD\n    );\n\n    RequestParameterBuilder.addExtraQueryParameters(\n        parameters,\n        request.extraQueryParameters || {}\n    );\n\n    return AuthorizeProtocol.getAuthorizeUrl(\n        authority,\n        parameters,\n        config.auth.encodeExtraQueryParams,\n        request.extraQueryParameters\n    );\n}\n\n/**\n * Gets the form that will be posted to /authorize with request parameters when using EAR\n */\nexport async function getEARForm(\n    frame: Document,\n    config: BrowserConfiguration,\n    authority: Authority,\n    request: CommonAuthorizationUrlRequest,\n    logger: Logger,\n    performanceClient: IPerformanceClient\n): Promise<HTMLFormElement> {\n    if (!request.earJwk) {\n        throw createBrowserAuthError(BrowserAuthErrorCodes.earJwkEmpty);\n    }\n\n    const parameters = await getStandardParameters(\n        config,\n        authority,\n        request,\n        logger,\n        performanceClient\n    );\n\n    RequestParameterBuilder.addResponseType(\n        parameters,\n        OAuthResponseType.IDTOKEN_TOKEN_REFRESHTOKEN\n    );\n    RequestParameterBuilder.addEARParameters(parameters, request.earJwk);\n\n    const queryParams = new Map<string, string>();\n    RequestParameterBuilder.addExtraQueryParameters(\n        queryParams,\n        request.extraQueryParameters || {}\n    );\n    const url = AuthorizeProtocol.getAuthorizeUrl(\n        authority,\n        queryParams,\n        config.auth.encodeExtraQueryParams,\n        request.extraQueryParameters\n    );\n\n    return createForm(frame, url, parameters);\n}\n\n/**\n * Gets the form that will be posted to /authorize with request parameters when using POST method\n */\nexport async function getCodeForm(\n    frame: Document,\n    config: BrowserConfiguration,\n    authority: Authority,\n    request: CommonAuthorizationUrlRequest,\n    logger: Logger,\n    performanceClient: IPerformanceClient\n): Promise<HTMLFormElement> {\n    const parameters = await getStandardParameters(\n        config,\n        authority,\n        request,\n        logger,\n        performanceClient\n    );\n\n    RequestParameterBuilder.addResponseType(parameters, OAuthResponseType.CODE);\n\n    RequestParameterBuilder.addCodeChallengeParams(\n        parameters,\n        request.codeChallenge,\n        request.codeChallengeMethod || Constants.S256_CODE_CHALLENGE_METHOD\n    );\n\n    RequestParameterBuilder.addPostBodyParameters(\n        parameters,\n        request.authorizePostBodyParameters || {}\n    );\n\n    const queryParams = new Map<string, string>();\n    RequestParameterBuilder.addExtraQueryParameters(\n        queryParams,\n        request.extraQueryParameters || {}\n    );\n\n    const url = AuthorizeProtocol.getAuthorizeUrl(\n        authority,\n        queryParams,\n        config.auth.encodeExtraQueryParams,\n        request.extraQueryParameters\n    );\n\n    return createForm(frame, url, parameters);\n}\n\n/**\n * Creates form element in the provided document with auth parameters in the post body\n * @param frame\n * @param authorizeUrl\n * @param parameters\n * @returns\n */\nfunction createForm(\n    frame: Document,\n    authorizeUrl: string,\n    parameters: Map<string, string>\n): HTMLFormElement {\n    const form = frame.createElement(\"form\");\n    form.method = \"post\";\n    form.action = authorizeUrl;\n\n    parameters.forEach((value: string, key: string) => {\n        const param = frame.createElement(\"input\");\n        param.hidden = true;\n        param.name = key;\n        param.value = value;\n\n        form.appendChild(param);\n    });\n\n    frame.body.appendChild(form);\n    return form;\n}\n\n/**\n * Response handler when server returns accountId on the /authorize request\n * @param request\n * @param accountId\n * @param apiId\n * @param config\n * @param browserStorage\n * @param nativeStorage\n * @param eventHandler\n * @param logger\n * @param performanceClient\n * @param nativeMessageHandler\n * @returns\n */\nexport async function handleResponsePlatformBroker(\n    request: CommonAuthorizationUrlRequest,\n    accountId: string,\n    apiId: ApiId,\n    config: BrowserConfiguration,\n    browserStorage: BrowserCacheManager,\n    nativeStorage: BrowserCacheManager,\n    eventHandler: EventHandler,\n    logger: Logger,\n    performanceClient: IPerformanceClient,\n    platformAuthProvider?: IPlatformAuthHandler\n): Promise<AuthenticationResult> {\n    logger.verbose(\"Account id found, calling WAM for token\");\n\n    if (!platformAuthProvider) {\n        throw createBrowserAuthError(\n            BrowserAuthErrorCodes.nativeConnectionNotEstablished\n        );\n    }\n    const browserCrypto = new CryptoOps(logger, performanceClient);\n    const nativeInteractionClient = new PlatformAuthInteractionClient(\n        config,\n        browserStorage,\n        browserCrypto,\n        logger,\n        eventHandler,\n        config.system.navigationClient,\n        apiId,\n        performanceClient,\n        platformAuthProvider,\n        accountId,\n        nativeStorage,\n        request.correlationId\n    );\n    const { userRequestState } = ProtocolUtils.parseRequestState(\n        browserCrypto,\n        request.state\n    );\n    return invokeAsync(\n        nativeInteractionClient.acquireToken.bind(nativeInteractionClient),\n        PerformanceEvents.NativeInteractionClientAcquireToken,\n        logger,\n        performanceClient,\n        request.correlationId\n    )({\n        ...request,\n        state: userRequestState,\n        prompt: undefined, // Server should handle the prompt, ideally native broker can do this part silently\n    });\n}\n\n/**\n * Response handler when server returns code on the /authorize request\n * @param request\n * @param response\n * @param codeVerifier\n * @param authClient\n * @param browserStorage\n * @param logger\n * @param performanceClient\n * @returns\n */\nexport async function handleResponseCode(\n    request: CommonAuthorizationUrlRequest,\n    response: AuthorizeResponse,\n    codeVerifier: string,\n    apiId: ApiId,\n    config: BrowserConfiguration,\n    authClient: AuthorizationCodeClient,\n    browserStorage: BrowserCacheManager,\n    nativeStorage: BrowserCacheManager,\n    eventHandler: EventHandler,\n    logger: Logger,\n    performanceClient: IPerformanceClient,\n    platformAuthProvider?: IPlatformAuthHandler\n): Promise<AuthenticationResult> {\n    // Remove throttle if it exists\n    ThrottlingUtils.removeThrottle(\n        browserStorage,\n        config.auth.clientId,\n        request\n    );\n    if (response.accountId) {\n        return invokeAsync(\n            handleResponsePlatformBroker,\n            PerformanceEvents.HandleResponsePlatformBroker,\n            logger,\n            performanceClient,\n            request.correlationId\n        )(\n            request,\n            response.accountId,\n            apiId,\n            config,\n            browserStorage,\n            nativeStorage,\n            eventHandler,\n            logger,\n            performanceClient,\n            platformAuthProvider\n        );\n    }\n    const authCodeRequest: CommonAuthorizationCodeRequest = {\n        ...request,\n        code: response.code || \"\",\n        codeVerifier: codeVerifier,\n    };\n    // Create popup interaction handler.\n    const interactionHandler = new InteractionHandler(\n        authClient,\n        browserStorage,\n        authCodeRequest,\n        logger,\n        performanceClient\n    );\n    // Handle response from hash string.\n    const result = await invokeAsync(\n        interactionHandler.handleCodeResponse.bind(interactionHandler),\n        PerformanceEvents.HandleCodeResponse,\n        logger,\n        performanceClient,\n        request.correlationId\n    )(response, request);\n\n    return result;\n}\n\n/**\n * Response handler when server returns ear_jwe on the /authorize request\n * @param request\n * @param response\n * @param apiId\n * @param config\n * @param authority\n * @param browserStorage\n * @param nativeStorage\n * @param eventHandler\n * @param logger\n * @param performanceClient\n * @param nativeMessageHandler\n * @returns\n */\nexport async function handleResponseEAR(\n    request: CommonAuthorizationUrlRequest,\n    response: AuthorizeResponse,\n    apiId: ApiId,\n    config: BrowserConfiguration,\n    authority: Authority,\n    browserStorage: BrowserCacheManager,\n    nativeStorage: BrowserCacheManager,\n    eventHandler: EventHandler,\n    logger: Logger,\n    performanceClient: IPerformanceClient,\n    platformAuthProvider?: IPlatformAuthHandler\n): Promise<AuthenticationResult> {\n    // Remove throttle if it exists\n    ThrottlingUtils.removeThrottle(\n        browserStorage,\n        config.auth.clientId,\n        request\n    );\n\n    // Validate state & check response for errors\n    AuthorizeProtocol.validateAuthorizationResponse(response, request.state);\n\n    if (!response.ear_jwe) {\n        throw createBrowserAuthError(BrowserAuthErrorCodes.earJweEmpty);\n    }\n\n    if (!request.earJwk) {\n        throw createBrowserAuthError(BrowserAuthErrorCodes.earJwkEmpty);\n    }\n\n    const decryptedData = JSON.parse(\n        await invokeAsync(\n            decryptEarResponse,\n            PerformanceEvents.DecryptEarResponse,\n            logger,\n            performanceClient,\n            request.correlationId\n        )(request.earJwk, response.ear_jwe)\n    ) as AuthorizeResponse & ServerAuthorizationTokenResponse;\n\n    if (decryptedData.accountId) {\n        return invokeAsync(\n            handleResponsePlatformBroker,\n            PerformanceEvents.HandleResponsePlatformBroker,\n            logger,\n            performanceClient,\n            request.correlationId\n        )(\n            request,\n            decryptedData.accountId,\n            apiId,\n            config,\n            browserStorage,\n            nativeStorage,\n            eventHandler,\n            logger,\n            performanceClient,\n            platformAuthProvider\n        );\n    }\n\n    const responseHandler = new ResponseHandler(\n        config.auth.clientId,\n        browserStorage,\n        new CryptoOps(logger, performanceClient),\n        logger,\n        null,\n        null,\n        performanceClient\n    );\n\n    // Validate response. This function throws a server error if an error is returned by the server.\n    responseHandler.validateTokenResponse(decryptedData);\n\n    // Temporary until response handler is refactored to be more flow agnostic.\n    const additionalData: AuthorizationCodePayload = {\n        code: \"\",\n        state: request.state,\n        nonce: request.nonce,\n        client_info: decryptedData.client_info,\n        cloud_graph_host_name: decryptedData.cloud_graph_host_name,\n        cloud_instance_host_name: decryptedData.cloud_instance_host_name,\n        cloud_instance_name: decryptedData.cloud_instance_name,\n        msgraph_host: decryptedData.msgraph_host,\n    };\n\n    return (await invokeAsync(\n        responseHandler.handleServerTokenResponse.bind(responseHandler),\n        PerformanceEvents.HandleServerTokenResponse,\n        logger,\n        performanceClient,\n        request.correlationId\n    )(\n        decryptedData,\n        authority,\n        TimeUtils.nowSeconds(),\n        request,\n        additionalData,\n        undefined,\n        undefined,\n        undefined,\n        undefined\n    )) as AuthenticationResult;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}