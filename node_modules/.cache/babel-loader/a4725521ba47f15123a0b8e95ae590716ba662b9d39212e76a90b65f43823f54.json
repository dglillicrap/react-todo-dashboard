{"ast":null,"code":"/*! @azure/msal-browser v4.24.1 2025-09-30 */\n'use strict';\n\nimport { DEFAULT_CRYPTO_IMPLEMENTATION } from '@azure/msal-common/browser';\nimport { BrowserCacheManager, DEFAULT_BROWSER_CACHE_MANAGER } from '../cache/BrowserCacheManager.mjs';\nimport { CryptoOps } from '../crypto/CryptoOps.mjs';\nimport { blockAPICallsBeforeInitialize, blockNonBrowserEnvironment } from '../utils/BrowserUtils.mjs';\nimport { EventHandler } from '../event/EventHandler.mjs';\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\n/**\r\n * UnknownOperatingContextController class\r\n *\r\n * - Until initialize method is called, this controller is the default\r\n * - AFter initialize method is called, this controller will be swapped out for the appropriate controller\r\n * if the operating context can be determined; otherwise this controller will continued be used\r\n *\r\n * - Why do we have this?  We don't want to dynamically import (download) all of the code in StandardController if we don't need to.\r\n *\r\n * - Only includes implementation for getAccounts and handleRedirectPromise\r\n *   - All other methods are will throw initialization error (because either initialize method or the factory method were not used)\r\n *   - This controller is necessary for React Native wrapper, server side rendering and any other scenario where we don't have a DOM\r\n *\r\n */\nclass UnknownOperatingContextController {\n  constructor(operatingContext) {\n    // Flag representing whether or not the initialize API has been called and completed\n    this.initialized = false;\n    this.operatingContext = operatingContext;\n    this.isBrowserEnvironment = this.operatingContext.isBrowserEnvironment();\n    this.config = operatingContext.getConfig();\n    this.logger = operatingContext.getLogger();\n    // Initialize performance client\n    this.performanceClient = this.config.telemetry.client;\n    // Initialize the crypto class.\n    this.browserCrypto = this.isBrowserEnvironment ? new CryptoOps(this.logger, this.performanceClient) : DEFAULT_CRYPTO_IMPLEMENTATION;\n    this.eventHandler = new EventHandler(this.logger);\n    // Initialize the browser storage class.\n    this.browserStorage = this.isBrowserEnvironment ? new BrowserCacheManager(this.config.auth.clientId, this.config.cache, this.browserCrypto, this.logger, this.performanceClient, this.eventHandler, undefined) : DEFAULT_BROWSER_CACHE_MANAGER(this.config.auth.clientId, this.logger, this.performanceClient, this.eventHandler);\n  }\n  getBrowserStorage() {\n    return this.browserStorage;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getAccount(accountFilter) {\n    return null;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getAccountByHomeId(homeAccountId) {\n    return null;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getAccountByLocalId(localAccountId) {\n    return null;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getAccountByUsername(username) {\n    return null;\n  }\n  getAllAccounts() {\n    return [];\n  }\n  initialize() {\n    this.initialized = true;\n    return Promise.resolve();\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  acquireTokenPopup(request) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  acquireTokenRedirect(request) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return Promise.resolve();\n  }\n  acquireTokenSilent(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  silentRequest) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  acquireTokenByCode(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  request) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  acquireTokenNative(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  request,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  apiId,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  accountId) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  acquireTokenByRefreshToken(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  commonRequest,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  silentRequest) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  addEventCallback(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  callback,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  eventTypes) {\n    return null;\n  }\n  removeEventCallback(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  callbackId) {}\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  addPerformanceCallback(callback) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return \"\";\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  removePerformanceCallback(callbackId) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return true;\n  }\n  enableAccountStorageEvents() {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n  }\n  disableAccountStorageEvents() {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n  }\n  handleRedirectPromise(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  hash) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    return Promise.resolve(null);\n  }\n  loginPopup(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  request) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  loginRedirect(request) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  logout(logoutRequest) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  logoutRedirect(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  logoutRequest) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  logoutPopup(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  logoutRequest) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  ssoSilent(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  request) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  getTokenCache() {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  getLogger() {\n    return this.logger;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  setLogger(logger) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  setActiveAccount(account) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n  }\n  getActiveAccount() {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return null;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  initializeWrapperLibrary(sku, version) {\n    this.browserStorage.setWrapperMetadata(sku, version);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  setNavigationClient(navigationClient) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n  }\n  getConfiguration() {\n    return this.config;\n  }\n  isBrowserEnv() {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return true;\n  }\n  getBrowserCrypto() {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  getPerformanceClient() {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  getRedirectResponse() {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n    return {};\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async clearCache(logoutRequest) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async hydrateCache(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  result,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  request) {\n    blockAPICallsBeforeInitialize(this.initialized);\n    blockNonBrowserEnvironment();\n  }\n}\nexport { UnknownOperatingContextController };","map":{"version":3,"names":["UnknownOperatingContextController","constructor","operatingContext","initialized","isBrowserEnvironment","config","getConfig","logger","getLogger","performanceClient","telemetry","client","browserCrypto","CryptoOps","DEFAULT_CRYPTO_IMPLEMENTATION","eventHandler","EventHandler","browserStorage","BrowserCacheManager","auth","clientId","cache","undefined","DEFAULT_BROWSER_CACHE_MANAGER","getBrowserStorage","getAccount","accountFilter","getAccountByHomeId","homeAccountId","getAccountByLocalId","localAccountId","getAccountByUsername","username","getAllAccounts","initialize","Promise","resolve","acquireTokenPopup","request","blockAPICallsBeforeInitialize","blockNonBrowserEnvironment","acquireTokenRedirect","acquireTokenSilent","silentRequest","acquireTokenByCode","acquireTokenNative","apiId","accountId","acquireTokenByRefreshToken","commonRequest","addEventCallback","callback","eventTypes","removeEventCallback","callbackId","addPerformanceCallback","removePerformanceCallback","enableAccountStorageEvents","disableAccountStorageEvents","handleRedirectPromise","hash","loginPopup","loginRedirect","logout","logoutRequest","logoutRedirect","logoutPopup","ssoSilent","getTokenCache","setLogger","setActiveAccount","account","getActiveAccount","initializeWrapperLibrary","sku","version","setWrapperMetadata","setNavigationClient","navigationClient","getConfiguration","isBrowserEnv","getBrowserCrypto","getPerformanceClient","getRedirectResponse","clearCache","hydrateCache","result"],"sources":["../../src/controllers/UnknownOperatingContextController.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}